====================================================================================================
# Iterator expressions
====================================================================================================
----------------------------------------------------------------------------------------------------

n = * a -> b

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <Iterator>
        <left>
            <Id name="a"/>
        </left>
        <Id name="b"/>
    </Iterator>
</AssignmentExpression>

----------------------------------------------------------------------------------------------------

n = * a,x -> b

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <Iterator>
        <left>
            <Id name="a"/>
            <Id name="x"/>
        </left>
        <Id name="b"/>
    </Iterator>
</AssignmentExpression>

----------------------------------------------------------------------------------------------------

n = * a,x if a ->
    b
   
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <Iterator>
        <left>
            <Id name="a"/>
            <Id name="x"/>
        </left>
        <clause>
            <Id name="a"/>
        </clause>
        <Id name="b"/>
    </Iterator>
</AssignmentExpression>

====================================================================================================
With multiple variables.
====================================================================================================
----------------------------------------------------------------------------------------------------

n = * a,x in b -> c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <Iterator>
        <left>
            <Id name="a"/>
            <Id name="x"/>
        </left>
        <iterable>
            <Id name="b"/>
        </iterable>
        <Id name="c"/>
    </Iterator>
</AssignmentExpression>

----------------------------------------------------------------------------------------------------

n = * a,x in b ->
    c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <Iterator>
        <left>
            <Id name="a"/>
            <Id name="x"/>
        </left>
        <iterable>
            <Id name="b"/>
        </iterable>
        <Id name="c"/>
    </Iterator>
</AssignmentExpression>

----------------------------------------------------------------------------------------------------

n = * a,x in b
    c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <Iterator>
        <left>
            <Id name="a"/>
            <Id name="x"/>
        </left>
        <iterable>
            <Id name="b"/>
        </iterable>
        <Id name="c"/>
    </Iterator>
</AssignmentExpression>

====================================================================================================
In calls.
====================================================================================================
----------------------------------------------------------------------------------------------------

foo(* a -> a)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<CallExpression>
    <Id name="foo"/>
    <Argument>
        <Iterator>
            <left>
                <Id name="a"/>
            </left>
            <Id name="a"/>
        </Iterator>
    </Argument>
</CallExpression>

----------------------------------------------------------------------------------------------------
# Map shorthand with clause within call

foo(* a if a -> a)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<CallExpression>
    <Id name="foo"/>
    <Argument>
        <Iterator>
            <left>
                <Id name="a"/>
            </left>
            <clause>
                <Id name="a"/>
            </clause>
            <Id name="a"/>
        </Iterator>
    </Argument>
</CallExpression>

----------------------------------------------------------------------------------------------------

foo(* a in b -> a)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<CallExpression>
    <Id name="foo"/>
    <Argument>
        <Iterator>
            <left>
                <Id name="a"/>
            </left>
            <iterable>
                <Id name="b"/>
            </iterable>
            <Id name="a"/>
        </Iterator>
    </Argument>
</CallExpression>

----------------------------------------------------------------------------------------------------

foo(* a in b if a -> a)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<CallExpression>
    <Id name="foo"/>
    <Argument>
        <Iterator>
            <left>
                <Id name="a"/>
            </left>
            <iterable>
                <Id name="b"/>
            </iterable>
            <clause>
                <Id name="a"/>
            </clause>
            <Id name="a"/>
        </Iterator>
    </Argument>
</CallExpression>

----------------------------------------------------------------------------------------------------
