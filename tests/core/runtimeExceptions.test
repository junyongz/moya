----------------------------------------------------------------------------------------------------

a()
    throw "catch me"

a()

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Exception: catch me
<no file>, line 2, in a
<no file>, line 4, in <source>

----------------------------------------------------------------------------------------------------

a()
    -- "a1"
    b()
    -- "a2"

b()
    -- "b1"
    throw "error"
    -- "b2"

-- "x1"
a()
-- "x2"

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

x1
a1
b1
---
Exception: error
<no file>, line 8, in b
<no file>, line 3, in a
<no file>, line 12, in <source>

----------------------------------------------------------------------------------------------------

a()
    -- "a1"
    b()
    -- "a2"

b()
    -- "b1"
    throw "error"
    -- "b2"

-- "x1"
try
    a()
catch
    -- "caught"
-- "x2"

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

x1
a1
b1
caught
x2

----------------------------------------------------------------------------------------------------

a()
    -- "a1"
    b()
    -- "a2"

b()
    -- "b1"
    throw "error"
    -- "b2"

-- "x1"
try
    a()
catch
    -- "caught"
finally
    -- "finally"
-- "x2"


- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

x1
a1
b1
caught
finally
x2

----------------------------------------------------------------------------------------------------

a()
    -- "a1"
    b()
    -- "a2"

b()
    -- "b1"
    throw "error"
    -- "b2"

-- "x1"
try
    a()
finally
    -- "finally"
-- "x2"


- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

x1
a1
b1
finally
---
Exception: error
<no file>, line 8, in b
<no file>, line 3, in a
<no file>, line 12, in <source>

----------------------------------------------------------------------------------------------------

a()
    -- "a1"
    b()
    -- "a2"

b()
    -- "b1"
    throw "error"
    -- "b2"

-- "x1"
try
    a()
catch exc
    -- "catch 1"
catch exc
    -- "catch 2"
-- "x2"

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

x1
a1
b1
catch 1
x2

----------------------------------------------------------------------------------------------------

a()
    -- "a1"
    b()
    -- "a2"

b()
    -- "b1"
    throw 42
    -- "b2"

-- "x1"
try
    a()
catch String,exc
    -- "catch 1"
catch Integer,exc
    -- "catch 2"
catch Exception,exc
    -- "catch 3"
-- "x2"


- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Exception: NYI
<no file>, line 12

----------------------------------------------------------------------------------------------------

a()
    throw "error"

try
    a()
catch exc
    -- exc
    -- exc is Exception

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Exception 'error'>
true

----------------------------------------------------------------------------------------------------
# Return in finally section stops exception unwinding

foo()
    throw "error"

bar()
    try
        foo()
    finally
        = "fine"

-- bar()

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

fine

----------------------------------------------------------------------------------------------------
# Throw new exception in finally section

foo()
    throw "error"

bar()
    try
        foo()
    finally
        throw "new error"

-- bar()

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Exception: new error
<no file>, line 8, in bar
<no file>, line 10, in <source>

----------------------------------------------------------------------------------------------------
