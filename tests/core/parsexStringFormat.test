====================================================================================================
# String formatting.

Ids can be referenced within strings to insert them within the string.

@string/format
====================================================================================================
----------------------------------------------------------------------------------------------------

"abc %def

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<BinaryExpression op="concat">
    <String value="abc "/>
    <Id name="def"/>
</BinaryExpression>

----------------------------------------------------------------------------------------------------

"abc %def ghi

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<BinaryExpression op="concat">
    <BinaryExpression op="concat">
        <String value="abc "/>
        <Id name="def"/>
    </BinaryExpression>
    <String value=" ghi"/>
</BinaryExpression>

====================================================================================================
The shorthand also works for a chain of property references.
====================================================================================================
----------------------------------------------------------------------------------------------------

"abc %def.ghi.jkl

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<BinaryExpression op="concat">
    <String value="abc "/>
    <PropertyExpression name="jkl">
        <PropertyExpression name="ghi">
            <Id name="def"/>
        </PropertyExpression>
    </PropertyExpression>
</BinaryExpression>

----------------------------------------------------------------------------------------------------

"abc %def.ghi.jkl

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<BinaryExpression op="concat">
    <String value="abc "/>
    <PropertyExpression name="jkl">
        <PropertyExpression name="ghi">
            <Id name="def"/>
        </PropertyExpression>
    </PropertyExpression>
</BinaryExpression>

====================================================================================================
Trailing periods are allowed and will remain part of the string literal.
====================================================================================================
----------------------------------------------------------------------------------------------------

"abc %def.

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<BinaryExpression op="concat">
    <BinaryExpression op="concat">
        <String value="abc "/>
        <Id name="def"/>
    </BinaryExpression>
    <String value="."/>
</BinaryExpression>

----------------------------------------------------------------------------------------------------

"abc %def. ghi

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<BinaryExpression op="concat">
    <BinaryExpression op="concat">
        <String value="abc "/>
        <Id name="def"/>
    </BinaryExpression>
    <String value=". ghi"/>
</BinaryExpression>

====================================================================================================
To use a % symbol you must escape it with a backslash.
====================================================================================================
----------------------------------------------------------------------------------------------------

"\%abc"

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<String value="%abc"/>

====================================================================================================
The % symbol on its own should be embedded directly.
====================================================================================================
----------------------------------------------------------------------------------------------------

"%"

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<String value="%"/>

----------------------------------------------------------------------------------------------------

"abc % def"

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<BinaryExpression op="concat">
    <BinaryExpression op="concat">
        <String value="abc "/>
        <String value="%"/>
    </BinaryExpression>
    <String value=" def"/>
</BinaryExpression>

----------------------------------------------------------------------------------------------------
