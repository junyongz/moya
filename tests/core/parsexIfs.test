====================================================================================================
# Ifs

if-else blocks.
====================================================================================================
----------------------------------------------------------------------------------------------------

if a {
    1
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
</If>

----------------------------------------------------------------------------------------------------

if a {
    1
} else {
    2
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
    <else>
        <Integer value="2"/>
    </else>
</If>

----------------------------------------------------------------------------------------------------

if a {
    1
} else if b {
    2
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
    <elseIf>
        <Id name="b"/>
        <Integer value="2"/>
    </elseIf>
</If>

----------------------------------------------------------------------------------------------------

if a {
    1
} else if b {
    2
} else {
    3
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
    <elseIf>
        <Id name="b"/>
        <Integer value="2"/>
    </elseIf>
    <else>
        <Integer value="3"/>
    </else>
</If>

====================================================================================================
Multiple line if expressions.
====================================================================================================
----------------------------------------------------------------------------------------------------

if {
    a -> 1
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
</If>

----------------------------------------------------------------------------------------------------

if {
    a -> 1
    b -> 2
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
    <elseIf>
        <Id name="b"/>
        <Integer value="2"/>
    </elseIf>
</If>

----------------------------------------------------------------------------------------------------

if {
    a -> 1
    b -> 2
    else -> 3
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
    <elseIf>
        <Id name="b"/>
        <Integer value="2"/>
    </elseIf>
    <else>
        <Integer value="3"/>
    </else>
</If>

----------------------------------------------------------------------------------------------------

if {
    a -> 1
    else -> 3
    b -> 2
    else -> 4
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Exception: Only one else allowed
<no file>, line 0

----------------------------------------------------------------------------------------------------

if {
    a -> {
        1
    }
    b -> 2
    else -> 3
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
    <elseIf>
        <Id name="b"/>
        <Integer value="2"/>
    </elseIf>
    <else>
        <Integer value="3"/>
    </else>
</If>

====================================================================================================
Single line if expressions.
====================================================================================================
----------------------------------------------------------------------------------------------------

if a -> 1

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
</If>

----------------------------------------------------------------------------------------------------

if a -> 1 or b -> 2

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
    <elseIf>
        <Id name="b"/>
        <Integer value="2"/>
    </elseIf>
</If>

----------------------------------------------------------------------------------------------------

if a -> 1 or b -> 2 else 3

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<If>
    <Id name="a"/>
    <Integer value="1"/>
    <elseIf>
        <Id name="b"/>
        <Integer value="2"/>
    </elseIf>
    <else>
        <Integer value="3"/>
    </else>
</If>

====================================================================================================
Within other kinds of expressions
====================================================================================================
----------------------------------------------------------------------------------------------------

n = if a {
    1
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
    </If>
</AssignmentExpression>

----------------------------------------------------------------------------------------------------

n = if a {
    1
} else {
    2
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
        <else>
            <Integer value="2"/>
        </else>
    </If>
</AssignmentExpression>

----------------------------------------------------------------------------------------------------

n = if a {
    1
} else if b {
    2
} else {
    3
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
        <elseIf>
            <Id name="b"/>
            <Integer value="2"/>
        </elseIf>
        <else>
            <Integer value="3"/>
        </else>
    </If>
</AssignmentExpression>

----------------------------------------------------------------------------------------------------

n = if a -> 1 or b -> 2

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<AssignmentExpression op="=">
    <Id name="n"/>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
        <elseIf>
            <Id name="b"/>
            <Integer value="2"/>
        </elseIf>
    </If>
</AssignmentExpression>

----------------------------------------------------------------------------------------------------

foo(if a -> 1 or b -> 2 else 3)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<CallExpression>
    <Id name="foo"/>
    <arg>
        <If>
            <Id name="a"/>
            <Integer value="1"/>
            <elseIf>
                <Id name="b"/>
                <Integer value="2"/>
            </elseIf>
            <else>
                <Integer value="3"/>
            </else>
        </If>
    </arg>
</CallExpression>

----------------------------------------------------------------------------------------------------

>() if a -> 1 or b -> 2

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
        <elseIf>
            <Id name="b"/>
            <Integer value="2"/>
        </elseIf>
    </If>
</Function>

----------------------------------------------------------------------------------------------------

>() if a {
    1
} else {
    2
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
        <else>
            <Integer value="2"/>
        </else>
    </If>
</Function>

----------------------------------------------------------------------------------------------------

>() if {
    a -> 1
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
    </If>
</Function>

----------------------------------------------------------------------------------------------------

>() if {
    a -> >(b) 1
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <If>
        <Id name="a"/>
        <Function>
            <Argument name="b"/>
            <Integer value="1"/>
        </Function>
    </If>
</Function>

----------------------------------------------------------------------------------------------------

>() if {
    a -> 1
    b -> 2
    else -> 3
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
        <elseIf>
            <Id name="b"/>
            <Integer value="2"/>
        </elseIf>
        <else>
            <Integer value="3"/>
        </else>
    </If>
</Function>

----------------------------------------------------------------------------------------------------

>() if {
    a -> 1
    else -> 2
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <If>
        <Id name="a"/>
        <Integer value="1"/>
        <else>
            <Integer value="2"/>
        </else>
    </If>
</Function>

====================================================================================================
Block expressions within a transform.
====================================================================================================
----------------------------------------------------------------------------------------------------

>() if {
    a -> {
        > (b) {
            1
        }
    }
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <If>
        <Id name="a"/>
        <Function>
            <Argument name="b"/>
            <Integer value="1"/>
        </Function>
    </If>
</Function>

----------------------------------------------------------------------------------------------------
