----------------------------------------------------------------------------------------------------

foo is a -> 1

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Is>
    <Id name="foo"/>
    <if>
        <Id name="a"/>
        <Integer value="1"/>
    </if>
</Is>

----------------------------------------------------------------------------------------------------

foo is a:A -> 1

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Is>
    <Id name="foo"/>
    <if>
        <TypeAssignment name="a">
            <TypeId name="A"/>
        </TypeAssignment>
        <Integer value="1"/>
    </if>
</Is>

----------------------------------------------------------------------------------------------------

foo is a -> 1 or b -> 2

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Is>
    <Id name="foo"/>
    <if>
        <Id name="a"/>
        <Integer value="1"/>
    </if>
    <if>
        <Id name="b"/>
        <Integer value="2"/>
    </if>
</Is>

----------------------------------------------------------------------------------------------------

foo is a -> 1 or b -> 2 else 3

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Is>
    <Id name="foo"/>
    <if>
        <Id name="a"/>
        <Integer value="1"/>
    </if>
    <if>
        <Id name="b"/>
        <Integer value="2"/>
    </if>
    <else>
        <Integer value="3"/>
    </else>
</Is>

----------------------------------------------------------------------------------------------------

foo is a -> 1 else c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Is>
    <Id name="foo"/>
    <if>
        <Id name="a"/>
        <Integer value="1"/>
    </if>
    <else>
        <Id name="c"/>
    </else>
</Is>

----------------------------------------------------------------------------------------------------

foo is {
    a -> 1
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Is>
    <Id name="foo"/>
    <if>
        <Id name="a"/>
        <Integer value="1"/>
    </if>
</Is>

----------------------------------------------------------------------------------------------------

foo is {
    a -> 1
} where {
    c = 1
}


- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Block>
    <Is>
        <Id name="foo"/>
        <if>
            <Id name="a"/>
            <Integer value="1"/>
        </if>
    </Is>
    <where>
        <AssignmentExpression op="=">
            <Id name="c"/>
            <Integer value="1"/>
        </AssignmentExpression>
    </where>
</Block>

----------------------------------------------------------------------------------------------------
foo is {
    a -> {
        1
    }
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Is>
    <Id name="foo"/>
    <if>
        <Id name="a"/>
        <Integer value="1"/>
    </if>
</Is>

----------------------------------------------------------------------------------------------------

foo is {
    a -> {
        c
    } where {
        c = 1
    }
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Is>
    <Id name="foo"/>
    <if>
        <Id name="a"/>
        <Block>
            <Id name="c"/>
            <where>
                <AssignmentExpression op="=">
                    <Id name="c"/>
                    <Integer value="1"/>
                </AssignmentExpression>
            </where>
        </Block>
    </if>
</Is>

====================================================================================================
Within expressions.
====================================================================================================
----------------------------------------------------------------------------------------------------

>() foo is a -> 1

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <Block>
        <Is>
            <Id name="foo"/>
            <if>
                <Id name="a"/>
                <Integer value="1"/>
            </if>
        </Is>
    </Block>
</Function>

----------------------------------------------------------------------------------------------------

bar(foo is a -> 1 else 2)

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<CallExpression>
    <Id name="bar"/>
    <arg>
        <Is>
            <Id name="foo"/>
            <if>
                <Id name="a"/>
                <Integer value="1"/>
            </if>
            <else>
                <Integer value="2"/>
            </else>
        </Is>
    </arg>
</CallExpression>

----------------------------------------------------------------------------------------------------

>() foo is {
    a -> {
        1
    }
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <Block>
        <Is>
            <Id name="foo"/>
            <if>
                <Id name="a"/>
                <Integer value="1"/>
            </if>
        </Is>
    </Block>
</Function>

====================================================================================================
Block expressions within a transform.
====================================================================================================
----------------------------------------------------------------------------------------------------

>() foo is {
    a -> {
        >(b) {
            1
        }
    }
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Function>
    <Block>
        <Is>
            <Id name="foo"/>
            <if>
                <Id name="a"/>
                <Function>
                    <Argument name="b"/>
                    <Block>
                        <Integer value="1"/>
                    </Block>
                </Function>
            </if>
        </Is>
    </Block>
</Function>

----------------------------------------------------------------------------------------------------
