====================================================================================================
# Iterators

====================================================================================================
----------------------------------------------------------------------------------------------------

* a
    c
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a in b
    c
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a ->
    c
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a -> c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a in b ->
    c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a in b -> c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <Id name="c"/>
</Iterator>

====================================================================================================
With type annotations.
====================================================================================================
----------------------------------------------------------------------------------------------------

* a:T in b
    c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Subtype>
            <Id name="a"/>
            <TypeId name="T"/>
        </Subtype>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a:T,b:T in c
    d

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Subtype>
            <Id name="a"/>
            <TypeId name="T"/>
        </Subtype>
        <Subtype>
            <Id name="b"/>
            <TypeId name="T"/>
        </Subtype>
    </left>
    <iterable>
        <Id name="c"/>
    </iterable>
    <Id name="d"/>
</Iterator>

====================================================================================================
If clauses
====================================================================================================
----------------------------------------------------------------------------------------------------

* a if b
    c
    
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <clause>
        <Id name="b"/>
    </clause>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a in b if a
    c
    
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <clause>
        <Id name="a"/>
    </clause>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a in b if a -> c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <clause>
        <Id name="a"/>
    </clause>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a in b if a ->
    c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <clause>
        <Id name="a"/>
    </clause>
    <Id name="c"/>
</Iterator>

====================================================================================================
While clauses.
====================================================================================================
----------------------------------------------------------------------------------------------------

* a while b
    c
    
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator while="true">
    <left>
        <Id name="a"/>
    </left>
    <clause>
        <Id name="b"/>
    </clause>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a in b while a
    c
    
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator while="true">
    <left>
        <Id name="a"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <clause>
        <Id name="a"/>
    </clause>
    <Id name="c"/>
</Iterator>

====================================================================================================
With multiple variables.
====================================================================================================
----------------------------------------------------------------------------------------------------

* a,b in b
    c
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
        <Id name="b"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a,b in c if a
    _
    
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
        <Id name="b"/>
    </left>
    <iterable>
        <Id name="c"/>
    </iterable>
    <clause>
        <Id name="a"/>
    </clause>
    <Id name="null"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a,x in b ->
    c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
        <Id name="x"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a,x -> b

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
        <Id name="x"/>
    </left>
    <Id name="b"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a,x if a -> b

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
        <Id name="x"/>
    </left>
    <clause>
        <Id name="a"/>
    </clause>
    <Id name="b"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a,x ->
    b

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
        <Id name="x"/>
    </left>
    <Id name="b"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a,x if a ->
    b

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
        <Id name="x"/>
    </left>
    <clause>
        <Id name="a"/>
    </clause>
    <Id name="b"/>
</Iterator>

----------------------------------------------------------------------------------------------------

* a,x in b -> c

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

<Iterator>
    <left>
        <Id name="a"/>
        <Id name="x"/>
    </left>
    <iterable>
        <Id name="b"/>
    </iterable>
    <Id name="c"/>
</Iterator>

----------------------------------------------------------------------------------------------------
