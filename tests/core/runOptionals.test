----------------------------------------------------------------------------------------------------

do {
    a:Int32?
    -- a
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

unknown

----------------------------------------------------------------------------------------------------

do {
    a:Int32?
    -- a
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

unknown

----------------------------------------------------------------------------------------------------

do {
    a:Int32?
    -- a as Int32
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

0

----------------------------------------------------------------------------------------------------

do {
    a:Int32? = 1
    -- a as Int32
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

1

----------------------------------------------------------------------------------------------------
# Pass optional to function

+ foo(a:Int32?) do {
    -- if a -> 5 else 3
}

do {
    a:Int32? = 1
    foo(a)
    b:Int32?
    foo(b)
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

5
3

----------------------------------------------------------------------------------------------------
# Optional arguments not required to be passed to call (if at the end)

+ foo(a:Int32?) do {
    -- if a -> 5 else 3
}

do {
    a:Int32? = 5
    foo(a)
    foo()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

5
3

----------------------------------------------------------------------------------------------------
# Optional arguments not required to be passed to call (if at the end)

+ foo(a:Int32?, b:Int32?) do {
    -- if a -> 5 else 3
}

do {
    a:Int32? = 5
    foo(a)
    foo()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

5
3

----------------------------------------------------------------------------------------------------
# Optional arguments mixed with default arguments

+ foo(a:Int32?, b=1, c:Int32?) do {
    -- if a -> 5 else 3
    -- b
    -- if c -> 4 else 2
}

do {
    a:Int32? = 5
    foo(a)
    foo()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

5
1
2
3
1
2

----------------------------------------------------------------------------------------------------
# Optional arguments not required to be passed to call (if at the end)

+ foo(a:Int32?, b:Int32) do {
}

do {
    a:Int32? = 5
    foo(a)
    foo()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Exception: Default value required
<no file>, line 1
    + foo(a:Int32?, b:Int32) do {
                    ^^^^^^^

----------------------------------------------------------------------------------------------------
# Optional arguments not required to be passed to call (if at the end)

+ foo(a:Int32=1) do {
    -- a
}

+ bar() {
    = 1
}

do {
    a:Int32
    foo(a)

    b:Int32? = 5
    foo(b)
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

1
5

----------------------------------------------------------------------------------------------------
# Optional arguments not required to be passed to call (if at the end)

+ foo(a) do {
    if a > 10 {
        = 5
    }
}

do {
    -- foo(1) as Int32
    -- foo(11) as Int32
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

0
5

----------------------------------------------------------------------------------------------------
