----------------------------------------------------------------------------------------------------

C"void ctest1()"

+ main() {
    ctest1()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

received!

----------------------------------------------------------------------------------------------------

C"void ctest2a(int)"

+ main() {
    ctest2a(42)
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

received 42

----------------------------------------------------------------------------------------------------

C"void ctest2a(int)"

+ main() {
    ctest2a(true)
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

received 1

----------------------------------------------------------------------------------------------------

C"void ctest2a(int)"

+ main() {
    ctest2a("shit")
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Exception: Function "ctest2a" not found
<no file>, line 4
        ctest2a("shit")
        ^^^^^^^

----------------------------------------------------------------------------------------------------

C"void ctest2a(long)"

+ main() {
    ctest2a(42)
}
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

received 42

----------------------------------------------------------------------------------------------------

C"void ctest2b(bool)"

+ main() {
    ctest2b(true)
}
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

received 1

----------------------------------------------------------------------------------------------------

C"void ctest2c(double)"

+ main() {
    ctest2c(42.1234)
}
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

received 42.123400

----------------------------------------------------------------------------------------------------

C"void ctest2d(long long)"

+ main() {
    ctest2d(9223372036854775807i64)
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
%nyi

received 9223372036854775807

----------------------------------------------------------------------------------------------------

C"void ctest2e(char*)"

+ main() {
    ctest2e("foo")
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

received 'foo'

----------------------------------------------------------------------------------------------------

C"void ctest2f(FakeType*)"

+ Thing {
    + a = 48
}

+ main() {
    thing = Thing()
    ctest2f(thing)
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

received 48

----------------------------------------------------------------------------------------------------

C"int ctest4a()"

+ main() {
    -- ctest4a()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

42

----------------------------------------------------------------------------------------------------

C"long long ctest4b()"
+ main() {
    -- ctest4b()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

9223372036854775807


----------------------------------------------------------------------------------------------------

C"double ctest4c()"
+ main() {
    -- ctest4c()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

42.123400

----------------------------------------------------------------------------------------------------

C"const char* ctest4d()"
+ main() {
    -- ctest4d()
}

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

foo

----------------------------------------------------------------------------------------------------
////////////////////////////////////////////////////////////////////////////////////////////////////

# Multiple arguments

C" void ctest13(UpObject*, const char*)"
fn(Object(), "foo")

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Object
foo

----------------------------------------------------------------------------------------------------
# Multiple arguments with one missing

C" void ctest13(UpObject*, const char*)"
fn(Object())

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Object
(null)

----------------------------------------------------------------------------------------------------
# Multiple arguments with one extra

C" void ctest13(UpObject*, const char*)"
fn(Object(), "foo", "bar")

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Object
foo

----------------------------------------------------------------------------------------------------
# Returning null from C to string

C" char* ctest14()"
called = fn()
-- " \"%called\"

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

""

----------------------------------------------------------------------------------------------------
